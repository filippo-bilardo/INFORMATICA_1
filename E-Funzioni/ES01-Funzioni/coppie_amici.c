/*
220 284     || 220   -> 1+2+4+5+10+11+20+22+44+55+110=284 -- 284 -> 1+2+4+71+142=220 -- 
1184 1210   || 1184  -> 1+2+4+8+16+32+37+74+148+296+592=1210 -- 1210 -> 1+2+5+10+11+22+55+110+121+242+605=1184 -- 
2620 2924   || 2620  -> 1+2+4+5+10+20+131+262+524+655+1310=2924 -- 2924 -> 1+2+4+17+34+43+68+86+172+731+1462=2620 -- 
5020 5564   || 5020  -> 1+2+4+5+10+20+251+502+1004+1255+2510=5564 -- 5564 -> 1+2+4+13+26+52+107+214+428+1391+2782=5020 -- 
6232 6368   || 6232  -> 1+2+4+8+19+38+41+76+82+152+164+328+779+1558+3116=6368 -- 6368 -> 1+2+4+8+16+32+199+398+796+1592+3184=6232 -- 
10744 10856 || 10744 -> 1+2+4+8+17+34+68+79+136+158+316+632+1343+2686+5372=10856 -- 10856 -> 1+2+4+8+23+46+59+92+118+184+236+472+1357+2714+5428=10744 -- 
12285 14595 || 12285 -> 1+3+5+7+9+13+15+21+27+35+39+45+63+65+91+105+117+135+189+195+273+315+351+455+585+819+945+1365+1755+2457+4095=14595 -- 14595 -> 1+3+5+7+15+21+35+105+139+417+695+973+2085+2919+4865=12285 -- 
17296 18416 || 17296 -> 1+2+4+8+16+23+46+47+92+94+184+188+368+376+752+1081+2162+4324+8648=18416 -- 18416 -> 1+2+4+8+16+1151+2302+4604+9208=17296 -- 
63020 76084 || 63020 -> 1+2+4+5+10+20+23+46+92+115+137+230+274+460+548+685+1370+2740+3151+6302+12604+15755+31510=76084 -- 76084 -> 1+2+4+23+46+92+827+1654+3308+19021+38042=63020 -- 
66928 66992 || 66928 -> 1+2+4+8+16+47+89+94+178+188+356+376+712+752+1424+4183+8366+16732+33464=66992 -- 66992 -> 1+2+4+8+16+53+79+106+158+212+316+424+632+848+1264+4187+8374+16748+33496=66928 -- 
67095 71145 || 67095 -> 1+3+5+7+9+15+21+27+35+45+63+71+105+135+189+213+315+355+497+639+945+1065+1491+1917+2485+3195+4473+7455+9585+13419+22365=71145 -- 71145 -> 1+3+5+9+15+17+27+31+45+51+85+93+135+153+155+255+279+459+465+527+765+837+1395+1581+2295+2635+4185+4743+7905+14229+23715=67095 -- 
69615 87633 || 69615 -> 1+3+5+7+9+13+15+17+21+35+39+45+51+63+65+85+91+105+117+119+153+195+221+255+273+315+357+455+585+595+663+765+819+1071+1105+1365+1547+1785+1989+3315+4095+4641+5355+7735+9945+13923+23205=87633 -- 87633 -> 1+3+7+9+13+21+39+63+91+107+117+273+321+749+819+963+1391+2247+4173+6741+9737+12519+29211=69615 -- 
71145 67095 || 71145 -> 1+3+5+9+15+17+27+31+45+51+85+93+135+153+155+255+279+459+465+527+765+837+1395+1581+2295+2635+4185+4743+7905+14229+23715=67095 -- 67095 -> 1+3+5+7+9+15+21+27+35+45+63+71+105+135+189+213+315+355+497+639+945+1065+1491+1917+2485+3195+4473+7455+9585+13419+22365=71145 -- 
76084 63020 || 76084 -> 1+2+4+23+46+92+827+1654+3308+19021+38042=63020 -- 63020 -> 1+2+4+5+10+20+23+46+92+115+137+230+274+460+548+685+1370+2740+3151+6302+12604+15755+31510=76084 -- 
79750 88730 || 79750 -> 1+2+5+10+11+22+25+29+50+55+58+110+125+145+250+275+290+319+550+638+725+1375+1450+1595+2750+3190+3625+7250+7975+15950+39875=88730 -- 88730 -> 1+2+5+10+19+38+95+190+467+934+2335+4670+8873+17746+44365=79750 -- 
87633 69615 || 87633 -> 1+3+7+9+13+21+39+63+91+107+117+273+321+749+819+963+1391+2247+4173+6741+9737+12519+29211=69615 -- 69615 -> 1+3+5+7+9+13+15+17+21+35+39+45+51+63+65+85+91+105+117+119+153+195+221+255+273+315+357+455+585+595+663+765+819+1071+1105+1365+1547+1785+1989+3315+4095+4641+5355+7735+9945+13923+23205=87633 -- 
88730 79750 || 88730 -> 1+2+5+10+19+38+95+190+467+934+2335+4670+8873+17746+44365=79750 -- 79750 -> 1+2+5+10+11+22+25+29+50+55+58+110+125+145+250+275+290+319+550+638+725+1375+1450+1595+2750+3190+3625+7250+7975+15950+39875=88730 -- */
#include <stdio.h> 
#define LIMITE 100000

int somma_divisori(int n)
{
    int i, totale = 0;
    for (i = 1; i < n; i++) {
        if (n % i == 0) {
            totale += i;
        }
    }
    return totale;
}

void stampa_divisori(int num) {
  int sum=0;
  printf("%d -> ", num);
  for (int i = 1; i < num; i++) {
    if (num % i == 0) {
      if(i==1) 
        printf("%d", i);
      else 
        printf("+%d", i);
      sum+=i;
    }
  }
  printf("=%d -- ",sum);
}

int main()
{
    int numero, amico, ultimo_amico;
    for (numero = 2; numero <= LIMITE; numero++) {
        amico = somma_divisori(numero);
        if (amico != numero && numero != ultimo_amico) {
            if (somma_divisori(amico) == numero) {
                printf("%d %d || ", numero, amico);
                stampa_divisori(numero);
                stampa_divisori(amico);
                printf("\n");
                ultimo_amico = amico;
            }
        }
    }
    return 0;
}

